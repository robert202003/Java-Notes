# 数据库面试题

- [MySQL中有哪几种锁](MySQL中有哪几种锁)
- [MySQL 中 InnoDB 支持的四种事务隔离级别](MySQL中InnoDB支持的四种事务隔离级别)
- [CHAR 和 VARCHAR 的区别？](CHAR和VARCHAR的区别？)
- [什么情况下设置了索引但无法使用](什么情况下设置了索引但无法使用)

## MySQL中有哪几种锁

1、表级锁：开销小，加锁快；不会出现死锁；锁定粒度大，发生锁冲突的概率最高，并发度最低。

2、行级锁：开销大，加锁慢；会出现死锁；锁定粒度最小，发生锁冲突的概率最低，并发度也最高。

3、页面锁：开销和加锁时间界于表锁和行锁之间；会出现死锁；锁定粒度界于表锁和行锁之间，并发度一般。

## MySQL中InnoDB支持的四种事务隔离级别

**SQL 标准定义的四个隔离级别为：**

1、read uncommited ：读到未提交数据

2、read committed：脏读，不可重复读

3、repeatable read：可重读

4、serializable ：串行事物

## CHAR和VARCHAR的区别？

区别一，定长和变长

char 表示定长，长度固定，varchar表示变长，即长度可变。char如果插入的长度小于定义长度时，则用空格填充；varchar小于定义长度时，还是按实际长度存储，插入多长就存多长。

因为其长度固定，char的存取速度还是要比varchar要快得多，方便程序的存储与查找；但是char也为此付出的是空间的代价，因为其长度固定，所以会占据多余的空间，可谓是以空间换取时间效率。varchar则刚好相反，以时间换空间。

区别之二，存储的容量不同

对 char 来说，最多能存放的字符个数 255，和编码无关。而 varchar 呢，最多能存放 65532 个字符。varchar的最大有效长度由最大行大小和使用的字符集确定。整体最大长度是 65,532字节

## 什么情况下设置了索引但无法使用

1、以“%”开头的 LIKE 语句，模糊匹配

2、OR 语句前后没有同时使用索引

3、数据类型出现隐式转化

## 乐观锁和悲观锁的实现

## 索引的底层数据结构有哪些？有什么区别

## MySQL性能如何优化

## B +树比B树做了哪些优化（难度：★★★★★）